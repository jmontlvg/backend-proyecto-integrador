<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edición de los Productos</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,600&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;1,600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Love+Light:wght@400&display=swap" rel="stylesheet">
    <link rel="icon" href="../IMG/favicon.ico" type="image/x-icon">

    <!-- Archivo CSS personalizado -->
    <link rel="stylesheet" href="../CSS/styles.css">
    <link rel="stylesheet" href="../CSS/formularioEdicion.css">
</head>

<body>
    <!-- Section for the main navbar -->
    <!-- I added the sticky-top class because I like more that the navbar is always visible so I don't have to scroll all the way up -->
    <nav class="navbar sticky-top navbar-expand-lg bg-body-tertiary" id="main-navbar"></nav>
    <!---------------------------->
    <main class="container">
        <!-- Form that enables the selection of action "Registrar"/"Editar" -->
        <form action="#" method="post" class="formSelector" id="formSelector">
            <fieldset>
                <legend>Registrar / Editar Productos</legend>
                <p>Selecciona una acción:</p>
                <input type="radio" class="btn-check" name="form" id="option1" autocomplete="off" checked value="1">
                <label class="btn btn-secondary" for="option1" id="Registrar">Registrar</label>

                <input type="radio" class="btn-check" name="form" id="option2" autocomplete="off" value="2">
                <label class="btn btn-secondary" for="option2" id="Editar">Editar</label>
            </fieldset><br>
        </form>
        <!-- End of the selection form -->
        <!-- Register Form Starts Here-->
        <form class="row g-3" id="form1">
            <h2>Registrar Producto:</h2>
            <!-- Alerta para Indicar que se registro con exito -->
            <div id="alertExitoRegistro" class="alert alert-success" role="alert" style="display: none;">
                <b>¡Éxito!:</b> Producto registrado correctamente.
            </div>
            <!-- Alerta para Indicar que ya existe el producto -->
            <div id="alertProductoDuplicado" class="alert alert-danger" role="alert" style="display: none;">
                <b>¡Alto!:</b> Producto registrado previamente.
            </div>
            <!-- Insert any input fields you want for form 1 here -->
            <div class="row mb-3">
                <label for="inputName" class="col-sm-2 col-form-label required">Nombre</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputName" placeholder="Nombre del producto">
                </div>
            </div>
            <!-- Alerta para nombre no válido -->
            <div id="alertNombre" class="alert alert-danger d-none" role="alert">
                <b>Error:</b> El nombre ingresado no es válido (solo caracteres alfabéticos).
            </div> 
            <!-- Campo para la descripcion-->                                  
            <div class="row mb-3">
                <label for="inputDescription" class="col-sm-2 col-form-label required">Descripción</label>
                <div class="col-sm-10">
                    <textarea class="form-control" id="inputDescription" rows="2"
                        placeholder="Descripción del producto (mínimo 10 caracteres)"></textarea>
                </div>
            </div>
            <!-- Alerta para descripción no válida -->
            <div id="alertDescripcion" class="alert alert-danger d-none" role="alert">
                <b>Error:</b> La descripción es muy corta (mínimo 10 caracteres).
            </div>
            <!-- Campo para el color-->                                  
            <div class="row mb-3">
                <label for="inputColor" class="col-sm-2 col-form-label required">Color</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputColor" placeholder="Color">
                </div>
            </div>
            <!-- Alerta para color no válida -->
            <div id="alertColor" class="alert alert-danger d-none" role="alert">
                <b>Error:</b> Color invalido.
            </div>
            <div class="row mb-3">
                <label for="inputImage" class="col-sm-2 col-form-label required">Imagen</label>
                <div class="col-sm-10">
                    <button type="button" id="btnImagen">Subir Foto</button>
                    <input type="text" class="form-control" id="inputImage" placeholder="URL de la imagen del producto">
                </div>
            </div>
            <div class="row mb-3">
                <label for="inputStock" class="col-sm-2 col-form-label required">Existencias</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputStock"
                        placeholder="Cantidad en existencia del producto" value="" autocomplete="off">
                </div>
            </div>
            <!-- Alerta para existencia no válida -->
            <div id="alertExistencia" class="alert alert-danger d-none" role="alert">
                <b>Error:</b> Solo se pueden ingresar caracteres numéricos mayores a cero, sin decimales.
            </div>
            <div class="row mb-3">
                <label for="inputUnitPrice" class="col-sm-2 col-form-label required">Precio Unitario</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputUnitPrice"
                        placeholder="Hasta dos decimales (ejemplo: 168.99)" value="" autocomplete="off">
                </div>
            </div>
            <!-- Alerta para precio no válido -->
            <div id="alertPrecio" class="alert alert-danger d-none" role="alert">
                <b>Error:</b> Solo se pueden ingresar hasta dos decimales.
            </div>
            <button type="submit" class="btn btn-primary" id="btnRegistrar">Registrar</button>
        </form>
        <!-- Register Form Ends Here  -->
        <!-- Edit Form Starts Here------>
        <form id="form2" method="post" style="display:none" action="">
            <h2>Editar Producto:</h2>
            <!-- Insert any input fields you want for form 2 here -->
            <!-- Container for the search product bar -->
            <div class="container">
                <nav class="navbar navbar-expand-lg bg-body-tertiary">
                    <div class="container-fluid">
                        <form class="d-flex" role="search">
                            <input class="form-control me-2" type="search" id="SearchName"
                                placeholder="Nombre del producto" aria-label="Search">
                            <button class="btn btn-outline-success" type="submit" id="btnBuscarProducto">Buscar</button>
                        </form>
                    </div>
                </nav>
            </div>
            <div class="alert alert-danger fade show" style="display:none;" role="alert" id="alertValidaciones">
                <p id="alertValidacionesTexto"></p>
            </div>
            <div class="alert alert-danger fade show" style="display:none;" role="alert" id="alertEmptySearch">
                <p id="alertEmptySearchText"></p>
            </div>
            <div class="alert alert-success fade show" style="display: none;" role="alert" id="alertExito">
                <p id="alertExitoModificacion"></p>
            </div>
            <!-- End of the search product bar -->
            <br>
            <div class="container">
                <form class="row g-3" style="display: none;" id="editForm">
                    <div class="row mb-3">
                        <label for="editID" class="col-sm-2 col-form-label">ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editID">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="editName" class="col-sm-2 col-form-label">Nombre</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editName">
                        </div>
                    </div>
                    <div class="alert alert-danger fade show" style="display: none;" role="alert" id="alertIdDuplicado2">
                        <p id="alertIdDuplicadotext2"></p>
                    </div>
                    <div class="row mb-3">
                        <label for="editDescription" class="col-sm-2 col-form-label">Descripción</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="editDescription" rows="2"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="editImage" class="col-sm-2 col-form-label">Imagen</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editImage">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="editStock" class="col-sm-2 col-form-label">Existencias</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editStock" placeholder="" value=""
                                autocomplete="off">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="editUnitPrice" class="col-sm-2 col-form-label">Precio Unitario</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editUnitPrice" placeholder="" value=""
                                autocomplete="off">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success" id="btnEditar">Editar</button>
                    <button type="submit" class="btn btn-danger" id="btnEliminar">Eliminar</button>
                </form>
            </div>
        </form>
        <!-- Edit Form Ends Here      -->
    </main>
    <!------------- Footer ---------->
    <footer class="text-white text-center py-3" id="general-footer"></footer>
    <!------------------------------->
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Navigation JS -->
    <script src="../JS/navigation.js"></script>
    <!-- Switch forms JS -->
    <script src="../JS/productRegister.js"></script>
    <script src="../JS/productEdition.js"></script>
    <!-- Scripts for cloudinary -->
    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
    <script src="../JS/servicio_imagen.js"></script>
    <!-- Animaciones personalizadas -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const headers = document.querySelectorAll("h3");
            headers.forEach((header) => {
                header.addEventListener("mouseover", () => {
                    header.style.transform = "scale(1.1)";
                    header.style.transition = "transform 0.3s";
                });
                header.addEventListener("mouseout", () => {
                    header.style.transform = "scale(1)";
                });
            });
        });
    </script>
    <script>function solutionn(){
        swal.fire({
            title:"En implementación.",
                      text: "Por el momento, esta función no está disponible. Actualmente, estamos trabajando en su implementación.",
                      confirmButtonText: "Aceptar",
                      icon: 'success',
                      width: '40%',
                      background: '#D9A796',
                      confirmButtonColor:' #05888d',
                      time:2000
                      
                  }) }</script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="./JS/Mensaje.js"></script>
</body>

</html>